import m from"./Master-88cf8b44.js";import{s as h}from"./multiselect-a8cfe491.js";import{_ as b,r as p,o as n,c as i,b as e,t as o,d as u,F as f,g as v,e as g}from"./app-4acd63a5.js";const x={layout:m,components:{Multiselect:h},props:["transactions","referral"],data(){return{selectedYear:new Date().getFullYear(),selectedMonth:new Date().getMonth()+1}},computed:{years(){const t=new Date().getFullYear();return Array.from({length:10},(s,c)=>t-c)},months(){return[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}]},filteredTransactions(){return this.transactions.filter(t=>{const s=new Date(t.created_at);return s.getFullYear()===this.selectedYear&&s.getMonth()+1===this.selectedMonth})},totalNetAmount(){return this.filteredTransactions.reduce((t,s)=>t+(parseFloat(s.cash_in||0)-parseFloat(s.cash_out||0)),0)},totalCommission(){return this.filteredTransactions.reduce((t,s)=>t+parseFloat(s.referral_commission||0),0)},totalAmount(){return this.filteredTransactions.reduce((t,s)=>t+parseFloat(s.commission_amount||0),0)}},methods:{formatDate(t){return new Date(t).toLocaleDateString()},calculateNetAmount(t){return(parseFloat(t.cash_in||0)-parseFloat(t.cash_out||0)).toFixed(2)}}},D={id:"main",class:"main"},F={class:"pagetitle d-flex justify-content-between"},M={class:"theme-text-color"},A=g('<nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="dashboard">TTC Global</a></li><li class="breadcrumb-item">Referral</li><li class="breadcrumb-item active">Details</li></ol></nav>',1),y={class:"section"},N={class:"card p-3"},T={class:"d-flex gap-2 align-items-center"},V={class:"section"},Y={class:"card"},w={class:"card-body"},S=e("h5",{class:"card-title theme-text-color"},"Transactions",-1),C={class:"table table-striped"},k=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"border p-2"},"Date"),e("th",{class:"border p-2"},"Net Amount"),e("th",{class:"border p-2"},"Commission"),e("th",{class:"border p-2"},"Amount")])],-1),B={class:"border p-2"},J={class:"border p-2 text-green-600"},L={class:"border p-2"},U={class:"border p-2 font-bold"},j={class:"bg-gray-100 font-bold"},E=e("td",{class:"border p-2 text-center"},"Total",-1),G={class:"border p-2 text-green-600"},O=e("td",{class:"border p-2 text-blue-600"},"-",-1),R={class:"border p-2 text-blue-600"};function q(t,s,c,z,r,l){const d=p("Multiselect");return n(),i("main",D,[e("div",F,[e("div",null,[e("h1",M,o(c.referral.name),1),A])]),e("section",y,[e("div",N,[e("div",T,[u(d,{modelValue:r.selectedYear,"onUpdate:modelValue":s[0]||(s[0]=a=>r.selectedYear=a),options:l.years,searchable:!0,placeholder:"Select Year"},null,8,["modelValue","options"]),u(d,{modelValue:r.selectedMonth,"onUpdate:modelValue":s[1]||(s[1]=a=>r.selectedMonth=a),options:l.months,searchable:!0,placeholder:"Select Month"},null,8,["modelValue","options"])])])]),e("section",V,[e("div",Y,[e("div",w,[S,e("table",C,[k,e("tbody",null,[(n(!0),i(f,null,v(l.filteredTransactions,(a,_)=>(n(),i("tr",{key:_,class:"text-center"},[e("td",B,o(l.formatDate(a.created_at)),1),e("td",J,o(l.calculateNetAmount(a)),1),e("td",L,o(a.referral_commission?a.referral_commission:"-"),1),e("td",U,o(a.commission_amount?a.commission_amount:"-"),1)]))),128))]),e("tfoot",j,[e("tr",null,[E,e("td",G,o(l.totalNetAmount),1),O,e("td",R,o(l.totalAmount),1)])])])])])])])}const P=b(x,[["render",q]]);export{P as default};
