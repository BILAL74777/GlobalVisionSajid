import{_ as f,k as m,r as b,o as u,c as g,b as t,t as n,d as v,w as a,F as h,p as C,f as I}from"./app-f20a89f2.js";const _={components:{VueCropper:m},emits:["croppedImg"],data(){return{randId:Math.ceil(Math.random()*1e6),imgSrc:"/images/default.jpg",cropImg:"",data:null}},created(){},methods:{openImageSelector(){this.$refs.imageInput.value=null,this.imgSrc="/images/default.jpg",this.$refs.imageInput.click()},handleImageChange(r){this.$refs.openModal.click();const e=r.target.files[0];if(e.type.indexOf("image/")===-1){alert("Please select an image file");return}if(typeof FileReader=="function"){const i=new FileReader;i.onload=p=>{this.imgSrc=p.target.result,this.$refs.cropper.replace(p.target.result)},i.readAsDataURL(e)}else alert("Sorry, FileReader API not supported")},cropImage(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL("image/webp"),this.$emit("croppedImg",this.cropImg),this.$refs.closeBtn.click()},flipX(){const r=this.$refs.flipX;let e=r.getAttribute("data-scale");e=e?-e:-1,this.$refs.cropper.scaleX(e),r.setAttribute("data-scale",e)},flipY(){const r=this.$refs.flipY;let e=r.getAttribute("data-scale");e=e?-e:-1,this.$refs.cropper.scaleY(e),r.setAttribute("data-scale",e)},getCropBoxData(){this.data=JSON.stringify(this.$refs.cropper.getCropBoxData(),null,4)},getData(){this.data=JSON.stringify(this.$refs.cropper.getData(),null,4)},move(r,e){this.$refs.cropper.move(r,e)},reset(){this.$refs.cropper.reset()},rotate(r){this.$refs.cropper.rotate(r)},setCropBoxData(){this.data&&this.$refs.cropper.setCropBoxData(JSON.parse(this.data))},setData(){this.data&&this.$refs.cropper.setData(JSON.parse(this.data))},zoom(r){this.$refs.cropper.relativeZoom(r)}}},l=r=>(C("data-v-6d310cf2"),r=r(),I(),r),k=["data-bs-target"],y=["id"],S={class:"modal-dialog modal-lg"},D={class:"modal-content"},M=l(()=>t("div",{class:"modal-header"},[t("h2",null,n("Upload and crop the image"))],-1)),w={class:"modal-body"},B={class:"cropper-area"},R={class:"img-cropper row"},x={class:"col-md-8"},$=l(()=>t("div",{class:"col-md-4"},[t("p",null,n("Preview")),t("div",{class:"preview"})],-1)),F={class:"actions"},O=l(()=>t("br",null,null,-1)),X=l(()=>t("br",null,null,-1)),Y={type:"button",ref:"closeBtn",class:"btn btn-sm btn-dark","data-bs-dismiss":"modal"};function A(r,e,i,p,d,o){const c=b("vue-cropper");return u(),g(h,null,[t("button",{onClick:e[0]||(e[0]=(...s)=>o.openImageSelector&&o.openImageSelector(...s)),type:"button",class:"btn btn-sm btn-success fs-6"},n("Upload Image")),t("button",{style:{display:"none"},type:"button",class:"btn btn-sm btn-success fs-6","data-bs-toggle":"modal","data-bs-target":"#cropperModal-"+d.randId,title:"Open",ref:"openModal"},n("Modal opener"),8,k),t("input",{ref:"imageInput",type:"file",name:"image",accept:"image/*",onChange:e[1]||(e[1]=(...s)=>o.handleImageChange&&o.handleImageChange(...s)),style:{display:"none"}},null,544),t("div",{class:"modal fade",id:"cropperModal-"+d.randId,tabindex:"-1"},[t("div",S,[t("div",D,[M,t("div",w,[t("div",null,[t("input",{ref:"input",type:"file",name:"image",accept:"image/*",onChange:e[2]||(e[2]=(...s)=>r.setImage&&r.setImage(...s))},null,544),t("section",B,[t("div",R,[t("div",x,[v(c,{ref:"cropper","aspect-ratio":9/6,src:d.imgSrc,preview:".preview"},null,8,["src"])]),$]),t("div",F,[t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[3]||(e[3]=a(s=>o.zoom(.2),["prevent"]))},n("Zoom In")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[4]||(e[4]=a(s=>o.zoom(-.2),["prevent"]))},n("Zoom Out")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[5]||(e[5]=a(s=>o.move(-10,0),["prevent"]))},n("Move Left")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[6]||(e[6]=a(s=>o.move(10,0),["prevent"]))},n("Move Right")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[7]||(e[7]=a(s=>o.move(0,-10),["prevent"]))},n("Move Up")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[8]||(e[8]=a(s=>o.move(0,10),["prevent"]))},n("Move Down")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[9]||(e[9]=a(s=>o.rotate(90),["prevent"]))},n("Rotate +90deg")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[10]||(e[10]=a(s=>o.rotate(-90),["prevent"]))},n("Rotate -90deg")),t("a",{ref:"flipX",class:"btn btn-sm btn-info",href:"#",role:"button",onClick:e[11]||(e[11]=a((...s)=>o.flipX&&o.flipX(...s),["prevent"]))},n("Flip X"),512),t("a",{ref:"flipY",class:"btn btn-sm btn-info",href:"#",role:"button",onClick:e[12]||(e[12]=a((...s)=>o.flipY&&o.flipY(...s),["prevent"]))},n("Flip Y"),512),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[13]||(e[13]=a((...s)=>o.reset&&o.reset(...s),["prevent"]))},n("Reset")),O,X,t("a",{href:"#",class:"btn btn-sm btn-success",role:"button",onClick:e[14]||(e[14]=a((...s)=>o.cropImage&&o.cropImage(...s),["prevent"]))},n("Crop")),t("button",Y,n("Close"),512)])])])])])])],8,y)],64)}const U=f(_,[["render",A],["__scopeId","data-v-6d310cf2"]]);export{U as default};
